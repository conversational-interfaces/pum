<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>Personal Utility Model</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script
            src='https://www.w3.org/Tools/respec/respec-w3c-common'
            class='remove'></script>
    <script class='remove'>
        let respecConfig = {
            localBiblio: {
                "Nishant Shukla": {
                    title: "A Unified Knowledge Representation\n" +
                        "        System for Robot Learning and Dialogue",
                    href: "https://escholarship.org/uc/item/1j58g9gx",
                    publisher: "eScholarship",
                },
                "DMPL": {
                    title: "Dialogue Manager Programming Language",
                    href: "https://www.w3.org/2019/04/dmpl/",
                    status: "W3C CG-FINAL",
                    date: "16 April, 2019",
                    publisher: "W3C",
                }
            },
            wg: "Conversational Interfaces Working Group",
            wgURI: "https://www.w3.org/community/conv/",
            wgPublicList: "public-conv",
            specStatus: "CG-DRAFT",
            shortName: "pum",
            editors: [{
                name: "Nishant Shukla",
                url: "https://shukla.io/",},
                {
                    name: "Nelson Solano",
                    url: "https://www.linkedin.com/in/nelson-solano-24a935126/",
                }
            ],
            authors: [],
            edDraftURI: "https://github.com/conversational-interfaces/pum",
            addSectionLinks: true,
            isPreview: true,
            lint: {
                "check-punctuation": true
            }
        };
    </script>
</head>
<body>

<section id='abstract'>
    <p>
        This specification defines the syntax and semantics for <code><dfn data-cite="!Nishant Shukla#">
        Utility Models</dfn></code> that are used to create and drive conversational experiences.
        <a>Utility Models</a> allow authors to encode preferences over states of the world, enabling task-oriented
        programming languages to autonomously drive agents towards settings with the highest possible utility.
    </p>
</section>

<section id='sotd'>
</section>

<section>
    <h2>Conformance</h2>
    <p>
        As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this
        specification are non-normative. Everything else in this specification is normative.
    </p>
</section>

<section>
    <h2>Introduction</h2>
    <i>This section is informative.</i>
    <p>
        This specification aims to establish a paradigm that allows for the authoring of value drive content to be used
        in intelligent agent systems.
    </p>

    <section>
        <h2>Scope</h2>
        <i>This section is informative.</i>
        <p>
            This document is limited to specifying the syntax and semantics of designing and incorporating utility
            into any task-oriented programming language. One example application of Utility Models arises in chat-bot
            settings where authors are able to specify preferences between interactions allowing for a more fluid and
            dynamic conversation.
        </p>
    </section>

    <section>
        <h2>Goals and Motivation</h2>
        <i>This section is informative.</i>
        <p>

        </p>
    </section>
</section>


<section>
    <h2>Utility Model Format</h2>
    <section data-dfn-for="Utility" data-link-for="Utility">
        <h2><dfn>Utility</dfn> interface</h2>
        <i>This section is normative.</i>
        <pre class="idl">
            [Exposed=Window]
            interface Utility {
              attribute Pairs preferences;
            };
      </pre>
        <section>
            <h3><dfn>preferences</dfn> attribute</h3>
            <p>
                The <a>preferences</a> attribute specifies a <a>Pairs</a> object denoting a ranking configuration of all
                provided examples. See <a>Pairs</a> below.
            </p>
        </section>
        <pre class="example">
            Pair
        </pre>
    </section>

    <section data-dfn-for="Pairs" data-link-for="Pairs">
        <h2><dfn>Pairs</dfn> interface</h2>
        <pre class="idl">
            typedef sequence< Config > configSequence;
            [Exposed=Window]
            interface Pairs {
                attribute configSequence configs;
            };
        </pre>
        <section>
            <h3><dfn>configs</dfn> attribute</h3>
            <p>
                The <a>configSequence</a> data
                type refers to a custom <code><dfn data-cite="!WebIDL-20161215/#idl-typedefs">typedef</dfn></code> such
                that the type <a>configSequence</a> denotes a <a>sequence</a> of <a>Config</a> objects. The
                <code><dfn data-cite="!WebIDL-20161215/#es-sequence">sequence</dfn></code> type is defined in
                [[WebIDL-20161215]].
            </p>
            <p>
                The <a>configs</a> attribute then specifies a <a>sequence</a> of two or more <a>Config</a> objects. For the sake of
                simplicity we assume the list of <a>Config</a> objects is ordered in descending order of utility. That is, the
                first <a>Config</a> object has the highest assigned utility, while the last <a>Config</a> object has
                the smallest assigned utility.
            </p>
            <pre class="example">
                [
                    firstConfig,
                    secondConfig,
                    ...
                ]
          </pre>
        </section>
        <!--<section data-link-for="configSequence" data-cite="configSequence">
            <h2><code>configSequence</code> typedef</h2>
            <p>
                The <a>configSequence</a> data type refers to
                a custom <code><dfn data-cite="!WebIDL-20161215/#idl-typedefs">typedef</dfn></code> such that the type
                <a>configSequence</a> denotes a <a>sequence</a> of <a>Config</a> objects. The
                <code><dfn data-cite="!WebIDL-20161215/#es-sequence">sequence</dfn></code> type is defined in
                [[WebIDL-20161215]].
            </p>
        </section>-->

    </section>

    <section data-dfn-for="Config" data-link-for="Config">
        <h2><dfn>Config</dfn> interface</h2>
        <pre class="idl">
            [Exposed=Window]
            interface Config : Dictionary {
            };
      </pre>
        <p>
            The <a>Config</a> interface specifies a dictionary of key value pairs denoting the environmental settings.
            The <code><dfn data-cite="!WebIDL-20161215/#idl-dictionary">Dictionary</dfn></code> type is defined in
            [[[WebIDL-20161215]]].
        </p>
        <pre class="example">
                {numWrongAttempts: 1, success: true}
          </pre>
    </section>

    <section data-dfn-for="Name">
        <h2><code><dfn>Name</dfn></code></h2>
        <p>
            A <a>name</a> is a sequence of characters conforming to those in the
            <code><dfn data-cite="!xml/#idl-dictionary">XML</dfn></code> standard [[xml]]. Below is an example with along
            with its corresponding <code><a href="https://bottlecaps.de/rr/ui">railroad diagram</a></code>.

        </p>
        <blockquote>
	            <pre>
	                <a>name</a> ::= [ <a href="http://www.w3.org/TR/xml-names/#NT-NCName">http://www.w3.org/TR/xml-names/#NT-NCName</a> ]
                </pre>
        </blockquote>
        <figure id="name-railroad">
            <img src="diagrams/name.png" alt="Name rail-road diagram">
            <figcaption>Name</figcaption>
        </figure>
    </section>

    <section data-dfn-for="String">
        <h2><code><dfn>String</dfn></code></h2>
        <p>
            A <a>string</a> literal represents a finite sequence of characters.
            It is surrounded by starting and ending quotation marks. Below is an example with along
            with its corresponding <code><a href="https://bottlecaps.de/rr/ui">railroad diagram</a></code>.
        </p>
        <blockquote>
	            <pre>
	                <a>string</a> :: = '"' <a>name</a> '"'
                </pre>
        </blockquote>
        <figure id="string-railroad">
            <img src="diagrams/string.png" alt="String railroad diagram">
            <figcaption>String</figcaption>
        </figure>
    </section>


</section>

<section>
    <h2>Examples</h2>
    <i>This section is informative.</i>
    <p>
        In a setting where a client is autonomously attempting to effectively teach a user, for example a mathematical
        concept, clients are able to specify the preferences of the states. In this case we've specified that a lower
        count of wrong attempts is preferred over a higher count, as this shows the user is at least attempting to learn.
    </p>
    <pre class="example">
        [
          [{numWrongAttempts: 1, success: true}, {numWrongAttempts: 0, success: false}],
          [{numWrongAttempts: 3, success: false}, {numWrongAttempts: 5, success: true}],
        ]
      </pre>

    <p>
        Being able to assign utility allows us to indirectly specify a desired trajectory in which animating all characters
        in a game setting has higher preferences than beginning the game.
    </p>
    <pre class="example">
        [
            [
              {
                "`is_pig_visible`": true,
                "`start_game`": true
              },
              {
                "`is_pig_visible`": false,
                "`start_game`": true
              }
            ],
            [
              {
                "`is_frog_visible`": true,
                "`start_game`": true
              },
              {
                "`is_frog_visible`": false,
                "`start_game`": true
              }
            ],
            [
              {
                "`is_fox_visible`": true,
                "`start_game`": true
              },
              {
                "`is_fox_visible`": false,
                "`start_game`": true
              }
            ]
        ]
      </pre>

    <p>
        When designing the utilities, the paired preferences do not have to belong to the same topic. By providing a
        variety of examples, the utility model is able to generalize to a richer interactive experience.
    </p>
    <pre class="example">
        [
            [
              {
                "`start_game`": true
              },
              {
                "`start_game`": false
              }
            ],
            [
              {
                "`start_game`": true,
                "`know_name`": true
              },
              {
                "`start_game`": false,
                "`know_name`": false
              }
            ],
            [
              {
                "`start_game`": true,
                "`say_welcome`": true
              },
              {
                "`start_game`": false,
                "`say_welcome`": false
              }
            ],
            [
              {
                "`remark_current_event`": true
              },
              {
                "`remark_current_event`": false
              }
            ],
            [
              {
                "`remark_day_of_week`": true
              },
              {
                "`remark_day_of_week`": false
              }
            ],
            [
              {
                "`remark_day`": true
              },
              {
                "`remark_day`": false
              }
            ],
            [
              {
                "`remark_weather`": true
              },
              {
                "`remark_weather`": false
              }
            ],
            [
              {
                "`remark_last_seen`": true
              },
              {
                "`remark_last_seen`": false
              }
            ],
            [
              {
                "`user_knows_name`": true
              },
              {
                "`user_knows_name`": false
              }
            ],
            [
              {
                "`asked_name_reminder`": true
              },
              {
                "`asked_name_reminder`": false
              }
            ],
            [
              {
                "`num_interaction`": 3
              },
              {
                "`num_interaction`": 12
              }
            ],
            [
              {
                "`num_interaction`": 3
              },
              {
                "`num_interaction`": -6
              }
            ]
          ]
      </pre>


</section>

<section>
    <h2>Related Technologies</h2>
    <i>This section is interactive</i>
</section>

</body>
</html>
